<html>
    <head>
        <title>Vue生命周期的钩子函数</title>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    </head>
    
    <div id="app">
        <p>{{name}} </p>
        <input type="text" v-model="name" placeholder="请输入" style="border:1px solid black"/>
    </div>
   
    
    <script>
        var data = {
            name:"杭城小刘"
        }


        var vm = new Vue({
            el:"#app",
            data:data,
            //这些钩子在实例的生命周期的不同阶段被调用，钩子的 this 上下文指向被调用它的 Vue 实例
            created:function(){
                //this 指向 vm 实例
                console.log("created");
                console.log("name is" + this.name);
            },
            //不要在选项属性或回调上使用箭头函数。比如  created: ()=> console.log(this.name); 或 vm.$watch("a", newValue => this.myMethod()) 。因为箭头函数是和父级上下文绑定在一起的， this 不会是如你预期的 Vue 实例。
            mounted:() => console.log("mounted " + this.name),
            updated:function(){
                console.log("updated");
            },
            destroyed:function(){
                console.log("destroyed");
            }
        });
        
        //$watch 方法是一个 实例方法，观察属性的某个值改变后调用
      vm.$watch("name",function(newValue,oldValue){
        console.log("该方法在 name 改变时调用");
        console.log("newValue-> " + newValue + " ,oldValue-> " + oldValue);
      });
        
   

    </script>
</html>